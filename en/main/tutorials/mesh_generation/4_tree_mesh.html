
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tree Meshes &#8212; discretize 0.7.1 documentation</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/blank.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="shortcut icon" href="../../_static/discretize-block.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Operators" href="../operators/index.html" />
    <link rel="prev" title="Cylindrical meshes" href="3_cylindrical_mesh.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/discretize-logo.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../content/getting_started.html">
  Getting Started
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../../content/user_guide.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../api/index.html">
  API Reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../content/theory.html">
  Theory
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../release/index.html">
  Release Notes
 </a>
</li>

    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://simpeg.xyz">SimPEG<i class="fas fa-external-link-alt"></i></a>
    </li>
    
    <li class="nav-item">
        <a class="nav-link nav-external" href="http://slack.simpeg.xyz">Contact<i class="fas fa-external-link-alt"></i></a>
    </li>
    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/simpeg/discretize" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="http://slack.simpeg.xyz/" rel="noopener" target="_blank" title="Slack">
            <span><i class="fab fa-slack"></i></span>
            <label class="sr-only">Slack</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://simpeg.discourse.group/" rel="noopener" target="_blank" title="Discourse">
            <span><i class="fab fa-discourse"></i></span>
            <label class="sr-only">Discourse</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://www.youtube.com/c/geoscixyz" rel="noopener" target="_blank" title="Youtube">
            <span><i class="fab fa-youtube"></i></span>
            <label class="sr-only">Youtube</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/simpegpy" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Mesh Generation
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="1_mesh_overview.html">
     Overview of Mesh Types
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2_tensor_mesh.html">
     Tensor meshes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="3_cylindrical_mesh.html">
     Cylindrical meshes
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Tree Meshes
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../operators/index.html">
   Operators
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../operators/1_averaging.html">
     Averaging Matricies
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../operators/2_differential.html">
     Differential Operators
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../inner_products/index.html">
   Inner Products
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../inner_products/1_basic.html">
     Basic Inner Products
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../inner_products/2_physical_properties.html">
     Constitutive Relations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../inner_products/3_calculus.html">
     Differential Operators
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../inner_products/4_advanced.html">
     Advanced Examples
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../pde/index.html">
   Solving PDEs
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../pde/1_poisson.html">
     Gaussâ€™ Law of Electrostatics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pde/2_advection_diffusion.html">
     Advection-Diffusion Equation
    </a>
   </li>
  </ul>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../examples/index.html">
   Examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/plot_cahn_hilliard.html">
     Operators: Cahn Hilliard
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/plot_cyl_mirror.html">
     Plot Mirrored Cylindrically Symmetric Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/plot_dc_resistivity.html">
     Basic Forward 2D DC Resistivity
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/plot_image.html">
     Basic: PlotImage
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/plot_pyvista_laguna.html">
     3D Visualization with PyVista
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/plot_quadtree_divergence.html">
     QuadTree: FaceDiv
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/plot_quadtree_hanging.html">
     QuadTree: Hanging Nodes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/plot_slicer_demo.html">
     Slicer demo
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/plot_streamThickness.html">
     Plotting: Streamline thickness
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#import-packages">
   Import Packages
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#basic-example">
   Basic Example
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#intermediate-example-and-plotting">
   Intermediate Example and Plotting
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#extracting-mesh-properties">
   Extracting Mesh Properties
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#d-example">
   3D Example
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-tutorials-mesh-generation-4-tree-mesh-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="tree-meshes">
<span id="sphx-glr-tutorials-mesh-generation-4-tree-mesh-py"></span><h1>Tree Meshes<a class="headerlink" href="#tree-meshes" title="Permalink to this headline">Â¶</a></h1>
<p>Compared to tensor meshes, tree meshes are able to provide higher levels
of discretization in certain regions while reducing the total number of
cells. Tree meshes belong to the class (<a class="reference internal" href="../../api/generated/discretize.TreeMesh.html#discretize.TreeMesh" title="discretize.TreeMesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">TreeMesh</span></code></a>).
Tree meshes can be defined in 2 or 3 dimensions. Here we demonstrate:</p>
<blockquote>
<div><ul class="simple">
<li><p>How to create basic tree meshes in 2D and 3D</p></li>
<li><p>Strategies for local mesh refinement</p></li>
<li><p>How to plot tree meshes</p></li>
<li><p>How to extract properties from tree meshes</p></li>
</ul>
</div></blockquote>
<p>To create a tree mesh, we first define the base tensor mesh (a mesh
comprised entirely of the smallest cells). Next we choose the level of
discretization around certain points or within certain regions. When
creating tree meshes, we must remember certain rules:</p>
<blockquote>
<div><ul class="simple">
<li><p>The number of base mesh cells in x, y and z must all be powers of 2</p></li>
<li><p>We cannot refine the mesh to create cells smaller than those defining the base mesh</p></li>
<li><p>The range of cell sizes in the tree mesh depends on the number of base mesh cells in x, y and z</p></li>
</ul>
</div></blockquote>
<div class="section" id="import-packages">
<h2>Import Packages<a class="headerlink" href="#import-packages" title="Permalink to this headline">Â¶</a></h2>
<p>Here we import the packages required for this tutorial.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">discretize</span> <span class="kn">import</span> <span class="n">TreeMesh</span>
<span class="kn">from</span> <span class="nn">discretize.utils</span> <span class="kn">import</span> <span class="n">mkvc</span><span class="p">,</span> <span class="n">refine_tree_xyz</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># sphinx_gallery_thumbnail_number = 4</span>
</pre></div>
</div>
</div>
<div class="section" id="basic-example">
<h2>Basic Example<a class="headerlink" href="#basic-example" title="Permalink to this headline">Â¶</a></h2>
<p>Here we demonstrate the basic two step process for creating a 2D tree mesh
(QuadTree mesh). The region of highest discretization if defined within a
rectangular box. We use the keyword argument <em>octree_levels</em> to define the
rate of cell width increase outside the box.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dh</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># minimum cell width (base mesh cell width)</span>
<span class="n">nbc</span> <span class="o">=</span> <span class="mi">64</span>  <span class="c1"># number of base mesh cells in x</span>

<span class="c1"># Define base mesh (domain and finest discretization)</span>
<span class="n">h</span> <span class="o">=</span> <span class="n">dh</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">nbc</span><span class="p">)</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">TreeMesh</span><span class="p">([</span><span class="n">h</span><span class="p">,</span> <span class="n">h</span><span class="p">])</span>

<span class="c1"># Define corner points for rectangular box</span>
<span class="n">xp</span><span class="p">,</span> <span class="n">yp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">([</span><span class="mf">120.0</span><span class="p">,</span> <span class="mf">240.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">80.0</span><span class="p">,</span> <span class="mf">160.0</span><span class="p">])</span>
<span class="n">xy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">c_</span><span class="p">[</span><span class="n">mkvc</span><span class="p">(</span><span class="n">xp</span><span class="p">),</span> <span class="n">mkvc</span><span class="p">(</span><span class="n">yp</span><span class="p">)]</span>  <span class="c1"># mkvc creates vectors</span>

<span class="c1"># Discretize to finest cell size within rectangular box</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">refine_tree_xyz</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">xy</span><span class="p">,</span> <span class="n">octree_levels</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;box&quot;</span><span class="p">,</span> <span class="n">finalize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">mesh</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>  <span class="c1"># Must finalize tree mesh before use</span>

<span class="n">mesh</span><span class="o">.</span><span class="n">plotGrid</span><span class="p">(</span><span class="n">show_it</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_4_tree_mesh_001.png" srcset="../../_images/sphx_glr_4_tree_mesh_001.png" alt="4 tree mesh" class = "sphx-glr-single-img"/><p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;x1&#39;, ylabel=&#39;x2&#39;&gt;
</pre></div>
</div>
</div>
<div class="section" id="intermediate-example-and-plotting">
<h2>Intermediate Example and Plotting<a class="headerlink" href="#intermediate-example-and-plotting" title="Permalink to this headline">Â¶</a></h2>
<p>The widths of the base mesh cells do not need to be the same in x and y.
However the number of base mesh cells in x and y each needs to be a power of 2.</p>
<p>Here we show topography-based mesh refinement and refinement about a
set of points. We also show some aspect of customizing plots. We use the
keyword argument <em>octree_levels</em> to define the rate of cell width increase
relative to our surface and the set of discrete points about which we are
refining.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dx</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># minimum cell width (base mesh cell width) in x</span>
<span class="n">dy</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># minimum cell width (base mesh cell width) in y</span>

<span class="n">x_length</span> <span class="o">=</span> <span class="mf">300.0</span>  <span class="c1"># domain width in x</span>
<span class="n">y_length</span> <span class="o">=</span> <span class="mf">300.0</span>  <span class="c1"># domain width in y</span>

<span class="c1"># Compute number of base mesh cells required in x and y</span>
<span class="n">nbcx</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x_length</span> <span class="o">/</span> <span class="n">dx</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)))</span>
<span class="n">nbcy</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">y_length</span> <span class="o">/</span> <span class="n">dy</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)))</span>

<span class="c1"># Define the base mesh</span>
<span class="n">hx</span> <span class="o">=</span> <span class="p">[(</span><span class="n">dx</span><span class="p">,</span> <span class="n">nbcx</span><span class="p">)]</span>
<span class="n">hy</span> <span class="o">=</span> <span class="p">[(</span><span class="n">dy</span><span class="p">,</span> <span class="n">nbcy</span><span class="p">)]</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">TreeMesh</span><span class="p">([</span><span class="n">hx</span><span class="p">,</span> <span class="n">hy</span><span class="p">],</span> <span class="n">x0</span><span class="o">=</span><span class="s2">&quot;CC&quot;</span><span class="p">)</span>

<span class="c1"># Refine surface topography</span>
<span class="n">xx</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">vectorNx</span>
<span class="n">yy</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">((</span><span class="n">xx</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mf">50.0</span>
<span class="n">pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">c_</span><span class="p">[</span><span class="n">mkvc</span><span class="p">(</span><span class="n">xx</span><span class="p">),</span> <span class="n">mkvc</span><span class="p">(</span><span class="n">yy</span><span class="p">)]</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">refine_tree_xyz</span><span class="p">(</span>
    <span class="n">mesh</span><span class="p">,</span> <span class="n">pts</span><span class="p">,</span> <span class="n">octree_levels</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;surface&quot;</span><span class="p">,</span> <span class="n">finalize</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>

<span class="c1"># Refine mesh near points</span>
<span class="n">xx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">10.0</span><span class="p">])</span>
<span class="n">yy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">20.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">])</span>
<span class="n">pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">c_</span><span class="p">[</span><span class="n">mkvc</span><span class="p">(</span><span class="n">xx</span><span class="p">),</span> <span class="n">mkvc</span><span class="p">(</span><span class="n">yy</span><span class="p">)]</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">refine_tree_xyz</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">pts</span><span class="p">,</span> <span class="n">octree_levels</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;radial&quot;</span><span class="p">,</span> <span class="n">finalize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">mesh</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>

<span class="c1"># We can apply the plotGrid method and output to a specified axes object</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">mesh</span><span class="o">.</span><span class="n">plotGrid</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xbound</span><span class="p">(</span><span class="n">mesh</span><span class="o">.</span><span class="n">x0</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">mesh</span><span class="o">.</span><span class="n">x0</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">mesh</span><span class="o">.</span><span class="n">hx</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ybound</span><span class="p">(</span><span class="n">mesh</span><span class="o">.</span><span class="n">x0</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">mesh</span><span class="o">.</span><span class="n">x0</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">mesh</span><span class="o">.</span><span class="n">hy</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;QuadTree Mesh&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_4_tree_mesh_002.png" srcset="../../_images/sphx_glr_4_tree_mesh_002.png" alt="QuadTree Mesh" class = "sphx-glr-single-img"/><p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;QuadTree Mesh&#39;)
</pre></div>
</div>
</div>
<div class="section" id="extracting-mesh-properties">
<h2>Extracting Mesh Properties<a class="headerlink" href="#extracting-mesh-properties" title="Permalink to this headline">Â¶</a></h2>
<p>Once the mesh is created, you may want to extract certain properties. Here,
we show some properties that can be extracted from a QuadTree mesh.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dx</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># minimum cell width (base mesh cell width) in x</span>
<span class="n">dy</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># minimum cell width (base mesh cell width) in y</span>

<span class="n">x_length</span> <span class="o">=</span> <span class="mf">300.0</span>  <span class="c1"># domain width in x</span>
<span class="n">y_length</span> <span class="o">=</span> <span class="mf">300.0</span>  <span class="c1"># domain width in y</span>

<span class="c1"># Compute number of base mesh cells required in x and y</span>
<span class="n">nbcx</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x_length</span> <span class="o">/</span> <span class="n">dx</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)))</span>
<span class="n">nbcy</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">y_length</span> <span class="o">/</span> <span class="n">dy</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)))</span>

<span class="c1"># Define the base mesh</span>
<span class="n">hx</span> <span class="o">=</span> <span class="p">[(</span><span class="n">dx</span><span class="p">,</span> <span class="n">nbcx</span><span class="p">)]</span>
<span class="n">hy</span> <span class="o">=</span> <span class="p">[(</span><span class="n">dy</span><span class="p">,</span> <span class="n">nbcy</span><span class="p">)]</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">TreeMesh</span><span class="p">([</span><span class="n">hx</span><span class="p">,</span> <span class="n">hy</span><span class="p">],</span> <span class="n">x0</span><span class="o">=</span><span class="s2">&quot;CC&quot;</span><span class="p">)</span>

<span class="c1"># Refine surface topography</span>
<span class="n">xx</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">vectorNx</span>
<span class="n">yy</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">((</span><span class="n">xx</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mf">50.0</span>
<span class="n">pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">c_</span><span class="p">[</span><span class="n">mkvc</span><span class="p">(</span><span class="n">xx</span><span class="p">),</span> <span class="n">mkvc</span><span class="p">(</span><span class="n">yy</span><span class="p">)]</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">refine_tree_xyz</span><span class="p">(</span>
    <span class="n">mesh</span><span class="p">,</span> <span class="n">pts</span><span class="p">,</span> <span class="n">octree_levels</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;surface&quot;</span><span class="p">,</span> <span class="n">finalize</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>

<span class="c1"># Refine near points</span>
<span class="n">xx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">10.0</span><span class="p">])</span>
<span class="n">yy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">20.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">])</span>
<span class="n">pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">c_</span><span class="p">[</span><span class="n">mkvc</span><span class="p">(</span><span class="n">xx</span><span class="p">),</span> <span class="n">mkvc</span><span class="p">(</span><span class="n">yy</span><span class="p">)]</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">refine_tree_xyz</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">pts</span><span class="p">,</span> <span class="n">octree_levels</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;radial&quot;</span><span class="p">,</span> <span class="n">finalize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">mesh</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>

<span class="c1"># The bottom west corner</span>
<span class="n">x0</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">x0</span>

<span class="c1"># The total number of cells</span>
<span class="n">nC</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">nC</span>

<span class="c1"># An (nC, 2) array containing the cell-center locations</span>
<span class="n">cc</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">gridCC</span>

<span class="c1"># A boolean array specifying which cells lie on the boundary</span>
<span class="n">bInd</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">cellBoundaryInd</span>

<span class="c1"># The cell areas (2D &quot;volume&quot;)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">vol</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">mesh</span><span class="o">.</span><span class="n">plotImage</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xbound</span><span class="p">(</span><span class="n">mesh</span><span class="o">.</span><span class="n">x0</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">mesh</span><span class="o">.</span><span class="n">x0</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">mesh</span><span class="o">.</span><span class="n">hx</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ybound</span><span class="p">(</span><span class="n">mesh</span><span class="o">.</span><span class="n">x0</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">mesh</span><span class="o">.</span><span class="n">x0</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">mesh</span><span class="o">.</span><span class="n">hy</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Log of Cell Areas&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_4_tree_mesh_003.png" srcset="../../_images/sphx_glr_4_tree_mesh_003.png" alt="Log of Cell Areas" class = "sphx-glr-single-img"/><p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;Log of Cell Areas&#39;)
</pre></div>
</div>
</div>
<div class="section" id="d-example">
<h2>3D Example<a class="headerlink" href="#d-example" title="Permalink to this headline">Â¶</a></h2>
<p>Here we show how the same approach can be used to create and extract
properties from a 3D tree mesh.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dx</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># minimum cell width (base mesh cell width) in x</span>
<span class="n">dy</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># minimum cell width (base mesh cell width) in y</span>
<span class="n">dz</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># minimum cell width (base mesh cell width) in z</span>

<span class="n">x_length</span> <span class="o">=</span> <span class="mf">300.0</span>  <span class="c1"># domain width in x</span>
<span class="n">y_length</span> <span class="o">=</span> <span class="mf">300.0</span>  <span class="c1"># domain width in y</span>
<span class="n">z_length</span> <span class="o">=</span> <span class="mf">300.0</span>  <span class="c1"># domain width in y</span>

<span class="c1"># Compute number of base mesh cells required in x and y</span>
<span class="n">nbcx</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x_length</span> <span class="o">/</span> <span class="n">dx</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)))</span>
<span class="n">nbcy</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">y_length</span> <span class="o">/</span> <span class="n">dy</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)))</span>
<span class="n">nbcz</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">z_length</span> <span class="o">/</span> <span class="n">dz</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)))</span>

<span class="c1"># Define the base mesh</span>
<span class="n">hx</span> <span class="o">=</span> <span class="p">[(</span><span class="n">dx</span><span class="p">,</span> <span class="n">nbcx</span><span class="p">)]</span>
<span class="n">hy</span> <span class="o">=</span> <span class="p">[(</span><span class="n">dy</span><span class="p">,</span> <span class="n">nbcy</span><span class="p">)]</span>
<span class="n">hz</span> <span class="o">=</span> <span class="p">[(</span><span class="n">dz</span><span class="p">,</span> <span class="n">nbcz</span><span class="p">)]</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">TreeMesh</span><span class="p">([</span><span class="n">hx</span><span class="p">,</span> <span class="n">hy</span><span class="p">,</span> <span class="n">hz</span><span class="p">],</span> <span class="n">x0</span><span class="o">=</span><span class="s2">&quot;CCC&quot;</span><span class="p">)</span>

<span class="c1"># Refine surface topography</span>
<span class="p">[</span><span class="n">xx</span><span class="p">,</span> <span class="n">yy</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">mesh</span><span class="o">.</span><span class="n">vectorNx</span><span class="p">,</span> <span class="n">mesh</span><span class="o">.</span><span class="n">vectorNy</span><span class="p">)</span>
<span class="n">zz</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">((</span><span class="n">xx</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">yy</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mf">50.0</span>
<span class="n">pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">c_</span><span class="p">[</span><span class="n">mkvc</span><span class="p">(</span><span class="n">xx</span><span class="p">),</span> <span class="n">mkvc</span><span class="p">(</span><span class="n">yy</span><span class="p">),</span> <span class="n">mkvc</span><span class="p">(</span><span class="n">zz</span><span class="p">)]</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">refine_tree_xyz</span><span class="p">(</span>
    <span class="n">mesh</span><span class="p">,</span> <span class="n">pts</span><span class="p">,</span> <span class="n">octree_levels</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;surface&quot;</span><span class="p">,</span> <span class="n">finalize</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>

<span class="c1"># Refine box</span>
<span class="n">xp</span><span class="p">,</span> <span class="n">yp</span><span class="p">,</span> <span class="n">zp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">([</span><span class="o">-</span><span class="mf">40.0</span><span class="p">,</span> <span class="mf">40.0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">40.0</span><span class="p">,</span> <span class="mf">40.0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">60.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
<span class="n">xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">c_</span><span class="p">[</span><span class="n">mkvc</span><span class="p">(</span><span class="n">xp</span><span class="p">),</span> <span class="n">mkvc</span><span class="p">(</span><span class="n">yp</span><span class="p">),</span> <span class="n">mkvc</span><span class="p">(</span><span class="n">zp</span><span class="p">)]</span>

<span class="n">mesh</span> <span class="o">=</span> <span class="n">refine_tree_xyz</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">xyz</span><span class="p">,</span> <span class="n">octree_levels</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;box&quot;</span><span class="p">,</span> <span class="n">finalize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">mesh</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>

<span class="c1"># The bottom west corner</span>
<span class="n">x0</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">x0</span>

<span class="c1"># The total number of cells</span>
<span class="n">nC</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">nC</span>

<span class="c1"># An (nC, 2) array containing the cell-center locations</span>
<span class="n">cc</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">gridCC</span>

<span class="c1"># A boolean array specifying which cells lie on the boundary</span>
<span class="n">bInd</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">cellBoundaryInd</span>

<span class="c1"># Cell volumes</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">vol</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">mesh</span><span class="o">.</span><span class="n">plotSlice</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="n">normal</span><span class="o">=</span><span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">ind</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">mesh</span><span class="o">.</span><span class="n">hy</span><span class="o">.</span><span class="n">size</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Cell Log-Volumes at Y = 0 m&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_4_tree_mesh_004.png" srcset="../../_images/sphx_glr_4_tree_mesh_004.png" alt="Cell Log-Volumes at Y = 0 m" class = "sphx-glr-single-img"/><p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;Cell Log-Volumes at Y = 0 m&#39;)
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  0.768 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-tutorials-mesh-generation-4-tree-mesh-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/2f9effc854ffeade5861778143f56846/4_tree_mesh.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">4_tree_mesh.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/2294a1cb815e7d8c07dd1eda6ba39416/4_tree_mesh.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">4_tree_mesh.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="3_cylindrical_mesh.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Cylindrical meshes</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../operators/index.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Operators</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2013 - 2021, SimPEG Developers, http://simpeg.xyz.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.2.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>